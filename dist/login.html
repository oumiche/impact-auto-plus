<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion - Impact Auto</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/impact-auto.css">
    <style>
        /* Override pour la page de login */
        body.login-page {
            display: block !important;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .login-card {
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .logo i {
            color: #667eea !important;
        }
        
        .title {
            color: #333 !important;
        }
        
        .subtitle {
            color: #666 !important;
        }
    </style>
</head>
<body class="login-page">
    <div class="hero is-fullheight">
        <div class="hero-body">
            <div class="container">
                <div class="columns is-centered">
                    <div class="column is-4-desktop is-6-tablet is-8-mobile">
                        <div class="card login-card">
                            <div class="card-content">
                                <div class="has-text-centered mb-5">
                                    <div class="logo mb-4">
                                        <i class="fas fa-car fa-3x has-text-primary"></i>
                                    </div>
                                    <h1 class="title is-3 has-text-centered">Impact Auto</h1>
                                    <p class="subtitle is-6 has-text-grey">Gestion de Parc Automobile Multi-Tenant</p>
                                </div>
                                
                                <div id="error-message" class="notification is-danger" style="display: none;"></div>
                                <div id="success-message" class="notification is-success" style="display: none;"></div>
                                
                                <form id="login-form">
                                    <div class="field">
                                        <label class="label">
                                            <i class="fas fa-user"></i> Email ou nom d'utilisateur
                                        </label>
                                        <div class="control">
                                            <input 
                                                class="input" 
                                                type="text" 
                                                id="email" 
                                                name="email" 
                                                placeholder="admin@impact-auto.com ou admin"
                                                required
                                            >
                                        </div>
                                        <p class="help is-danger" id="email-error" style="display: none;"></p>
                                    </div>
                                    
                                    <div class="field">
                                        <label class="label">
                                            <i class="fas fa-lock"></i> Mot de passe
                                        </label>
                                        <div class="control">
                                            <input 
                                                class="input" 
                                                type="password" 
                                                id="password" 
                                                name="password" 
                                                placeholder="Votre mot de passe"
                                                required
                                            >
                                        </div>
                                        <p class="help is-danger" id="password-error" style="display: none;"></p>
                                    </div>
                                    
                                    <div class="field">
                                        <label class="checkbox">
                                            <input type="checkbox" id="remember-me" name="remember">
                                            Se souvenir de moi
                                        </label>
                                    </div>
                                    
                                    <div class="field">
                                        <div class="control">
                                            <button type="submit" class="button is-primary is-fullwidth" id="login-btn">
                                                <span class="icon">
                                                    <i class="fas fa-sign-in-alt"></i>
                                                </span>
                                                <span>Se connecter</span>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                                
                                <div class="has-text-centered mt-5">
                                    <p class="has-text-centered">
                                        <a href="#" class="has-text-link">Mot de passe oubli√© ?</a>
                                    </p>
                                    <div class="has-text-centered" style="margin-top: 10px;">
                                        <small class="has-text-grey">
                                            <i class="fas fa-info-circle"></i>
                                            Test: admin@impact-auto.com / admin123
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/services/ApiService.js"></script>
    <script src="js/auth/auth-guard.js"></script>
    <script src="js/auth/login.js"></script>
</body>
</html>